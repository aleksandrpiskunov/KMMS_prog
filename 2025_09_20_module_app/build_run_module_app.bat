#!/bin/bash

# Эквивалент @echo off
set +x

# Установка кодировки в macOS не требуется, по умолчанию UTF-8

# Удаление лог-файла (если существует)
if [ -f "log" ]; then
    rm log
fi

# Установка переменных
CPP_FILES="io.cpp sortings.cpp main.cpp"
EXE="bubble_sort"

# Удаление старого исполняемого файла, если он существует
if [ -f "$EXE" ]; then
    rm "$EXE"
fi

# Компиляция с поддержкой UTF-8 (для корректного отображения русских символов)
g++ -std=c++17 -Wall "$CPP_FILES" -o "$EXE"

# Проверка успешности компиляции и запуск
if [ $? -eq 0 ]; then
    echo "Компиляция прошла успешно. Запуск программы..."
    ./"$EXE"
else
    echo "Ошибка компиляции!"
fi
